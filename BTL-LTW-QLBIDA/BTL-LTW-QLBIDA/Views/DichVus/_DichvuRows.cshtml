@model BTL_LTW_QLBIDA.Models.ViewModels.DichvuScrollVm

@foreach (var dv in Model.Items)
{
    <tr class="dv-row align-middle" data-id="@dv.Iddv">

        <!-- Ảnh -->
        <td style="width:60px;">
            <img src="@dv.Imgpath"
                 style="width:45px;height:45px;object-fit:cover;border-radius:6px;border:1px solid #ddd;" />
        </td>

        <!-- Tên & Loại -->
        <td>
            <strong>@dv.Tendv</strong>
            <div class="text-muted small">@dv.IdloaiNavigation?.Tenloai</div>
        </td>

        <!-- Giá -->
        <td class="text-end fw-bold text-primary">
            @((dv.Giatien ?? 0).ToString("N0")) VNĐ
        </td>

        <!-- Tồn -->
        <td class="text-center">
            @if ((dv.Soluong ?? 0) <= 5)
            {
                <span class="text-danger fw-bold">@dv.Soluong</span>
            }
            else
            {
                <span>@dv.Soluong</span>
            }
        </td>

        <!-- Trạng thái -->
        <td>
            @if (dv.Hienthi == true)
            {
                <span class="badge bg-success px-3 py-2">Đang bán</span>
            }
            else
            {
                <span class="badge bg-secondary px-3 py-2">Ngừng</span>
            }
        </td>

        <!-- Nút -->
        <td class="text-center">
            <button class="btn btn-light border btn-sm"
                    onclick="window.location='/Dichvus/Details?id=@dv.Iddv'">
                <i class="bi bi-eye text-primary"></i>
            </button>


            <button class="btn btn-light border btn-sm btn-edit" data-id="@dv.Iddv">
                <i class="bi bi-pencil text-warning"></i>
            </button>

            <button class="btn btn-light border btn-sm btn-toggle"
                    data-id="@dv.Iddv">

                @if (dv.Hienthi == true)
                {
                    <i class="bi bi-toggle-on text-success fs-5"></i>
                }
                else
                {
                    <i class="bi bi-toggle-off text-secondary fs-5"></i>
                }

            </button>


            <button class="btn btn-light border btn-sm btn-delete" data-id="@dv.Iddv">
                <i class="bi bi-trash text-danger"></i>
            </button>
        </td>
    </tr>
}

@if (!Model.HasMore)
{
    <tr class="no-more">
        <td colspan="6" class="text-center text-muted py-3">
            <i class="bi bi-check2-circle me-1"></i>
            Đã hết dữ liệu
        </td>
    </tr>
}
