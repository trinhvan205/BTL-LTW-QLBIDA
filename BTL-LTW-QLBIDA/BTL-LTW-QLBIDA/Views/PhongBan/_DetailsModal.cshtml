@model BTL_LTW_QLBIDA.Models.Ban

<div class="modal-header bg-info text-white">
    <h5 class="modal-title">Chi tiết bàn: @Model.Idban</h5>
    <button class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
</div>
<div class="modal-body">
    <div class="row mb-3">
        <div class="col-6">
            <label class="text-muted small">Khu vực</label>
            <div class="fw-bold">@Model.IdkhuNavigation?.Tenkhu</div>
        </div>
        <div class="col-6">
            <label class="text-muted small">Giá hiện tại</label>
            <div class="fw-bold text-success">@string.Format("{0:N0}", Model.Giatien) đ/h</div>
        </div>
    </div>

    <h6 class="border-bottom pb-2 text-primary"><i class="bi bi-clock-history"></i> Lịch sử hoạt động gần đây</h6>

    <div style="max-height: 300px; overflow-y: auto;">
        @if (ViewBag.History != null)
        {
            <table class="table table-sm table-striped small">
                <thead>
                    <tr>
                        <th>Ngày</th>
                        <th>HĐ</th>
                        <th>NV</th>
                        <th class="text-end">Tiền</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var hd in ViewBag.History as List<Hoadon>)
                    {
                        <tr>
                            <td>@hd.Ngaylap?.ToString("dd/MM/yy HH:mm")</td>
                            <td>@hd.Idhd</td>
                            <td>@hd.IdnvNavigation?.Hotennv</td>
                            <td class="text-end">@string.Format("{0:N0}", hd.Tongtien)</td>
                        </tr>
                    }
                </tbody>
            </table>
        }
        else
        {
            <p class="text-muted text-center mt-3">Chưa có lịch sử.</p>
        }
    </div>
</div>
<div class="modal-footer">
    <button class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
</div>