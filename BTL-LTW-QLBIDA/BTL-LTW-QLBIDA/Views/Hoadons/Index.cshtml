@{
    ViewData["Title"] = "Quản lý hóa đơn";
}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
<link rel="stylesheet" href="~/css/hoadon.css" />

<div class="row">
    <div class="col-md-2 mb-3">
        <partial name="_Filter" />
    </div>

    <div class="col-md-10">
        <div class="d-flex justify-content-between align-items-center mb-2">
            <h4 class="fw-bold m-0">
                <i class="bi bi-receipt-cutoff me-1"></i> Hóa đơn
            </h4>
            <div class="btn-group">
                <button id="btnExportExcel" class="btn btn-outline-secondary btn-sm me-1">
                    <i class="bi bi-file-earmark-excel"></i> Xuất Excel
                </button>

                @* <button class="btn btn-success btn-sm dropdown-toggle" data-bs-toggle="dropdown">
                    <i class="bi bi-ui-checks-grid"></i>
                </button>
                <div class="dropdown-menu p-2 shadow-sm" id="columnChooser" style="width:260px; max-height:400px; overflow-y:auto;">
                    <label class="dropdown-item"><input type="checkbox" class="col-opt" data-col="mahd" checked> Mã HĐ</label>
                    ...
                </div> 
                *@
            </div>
        </div>

        <div id="tableScrollArea" class="table-responsive shadow-sm border rounded bg-white" style="max-height: 600px; overflow-y: auto;">
            <table class="table table-hover align-middle mb-0">
                <thead class="table-light">
                    <tr>
                        <th class="col-mahd">Mã HĐ</th>
                        <th class="col-ngaylap">Ngày lập</th>
                        <th class="col-khach">Khách hàng</th>
                        <th class="col-nhanvien">Nhân viên</th>
                        <th class="col-tongtien text-end">Tổng tiền</th>
                        <th class="col-trangthai">Trạng thái</th>
                        <th class="col-thaotac text-center" style="width:210px;">Thao tác</th>
                    </tr>
                </thead>
                <tbody id="invoiceBody">
                    <tr id="loadingRow">
                        <td colspan="7" class="text-center py-3 text-muted">
                            <div class="spinner-border spinner-border-sm me-2"></div>
                            Đang tải dữ liệu...
                        </td>
                    </tr>
                </tbody>

            </table>
        </div>
    </div>
</div>

<div class="modal fade" id="ajaxModal" tabindex="-1">
    <div class="modal-dialog modal-lg modal-dialog-scrollable modal-dialog-centered">
        <div class="modal-content" id="ajaxModalContent"></div>
    </div>
</div>

<div id="globalLoading" class="global-loading d-none">
    <div class="spinner-border text-light" role="status"></div>
</div>

@section Scripts {
    <script src="~/js/hoadon.js"></script>
    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

}